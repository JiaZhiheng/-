{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\views\\Account.vue?vue&type=template&id=7cbffb3a","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\views\\Account.vue","mtime":1644923745253},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiYWNjb3VudCIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIumAgOWHuueZu+W9lSIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9IZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiSGVhZGVyIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9jZWxsID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1jZWxsIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWJ1dHRvbiIpOwoKICB2YXIgX2NvbXBvbmVudF92YW5fZmllbGQgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWZpZWxkIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9jZWxsX2dyb3VwID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1jZWxsLWdyb3VwIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9kaWFsb2cgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWRpYWxvZyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9IZWFkZXIsIHsKICAgIHRpdGxlOiAi6LSm5oi35a6J5YWoIgogIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fY2VsbCwgewogICAgdGl0bGU6ICLlr4bnoIHkv67mlLkiLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LnZpc2libGUgPSB0cnVlOwogICAgfSksCiAgICAiaXMtbGluayI6ICIiCiAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9idXR0b24sIHsKICAgIGNsYXNzOiAibG9nb3V0IiwKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIHNpemU6ICJsYXJnZSIsCiAgICBvbkNsaWNrOiAkc2V0dXAubG9nb3V0CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzJdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9kaWFsb2csIHsKICAgIGNsYXNzOiAibW9kYWwtcGFzcyIsCiAgICBzaG93OiBfY3R4LnZpc2libGUsCiAgICAib25VcGRhdGU6c2hvdyI6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC52aXNpYmxlID0gJGV2ZW50OwogICAgfSksCiAgICBvbkNvbmZpcm06ICRzZXR1cC5oYW5kbGVPaywKICAgIHRpdGxlOiAi5L+u5pS55a+G56CBIiwKICAgICJzaG93LWNhbmNlbC1idXR0b24iOiAiIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fY2VsbF9ncm91cCwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6IF9jdHgub2xkUGFzcywKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2N0eC5vbGRQYXNzID0gJGV2ZW50OwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbGFiZWw6ICLljp/lr4bnoIEiLAogICAgICAgICAgICBjbGVhcmFibGU6ICIiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWOn+WvhueggSIKICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6IF9jdHgubmV3UGFzcywKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2N0eC5uZXdQYXNzID0gJGV2ZW50OwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbGFiZWw6ICLmlrDlr4bnoIEiLAogICAgICAgICAgICBjbGVhcmFibGU6ICIiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWsOWvhueggSIKICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6IF9jdHgubmV3UGFzczIsCiAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jdHgubmV3UGFzczIgPSAkZXZlbnQ7CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBsYWJlbDogIuehruiupOWvhueggSIsCiAgICAgICAgICAgIGNsZWFyYWJsZTogIiIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5YaN5qyh6L6T5YWl56Gu6K6kIgogICAgICAgICAgfSwgbnVsbCwgOAogICAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAgICwgWyJtb2RlbFZhbHVlIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsic2hvdyIsICJvbkNvbmZpcm0iXSldKTsKfQ=="},{"version":3,"sources":["C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\views\\Account.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;+CAG8D,M;;;;;;;;;;;;;;;uBAHzE,YAAA,CA0BM,KA1BN,EAAA,UAAA,EA0BM,CAzBJ,YAAA,CAAuB,iBAAvB,EAAuB;AAAf,IAAA,KAAK,EAAC;AAAS,GAAvB,CAyBI,EAxBJ,YAAA,CAAyD,mBAAzD,EAAyD;AAA/C,IAAA,KAAK,EAAC,MAAyC;AAAjC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,OAAA,GAAO,IAAT;AAAA,KAAA,CAA4B;AAAV,eAAA;AAAU,GAAzD,CAwBI,EAvBJ,YAAA,CAAwF,qBAAxF,EAAwF;AAA5E,IAAA,KAAK,EAAC,QAAsE;AAA7D,IAAA,IAAI,EAAC,SAAwD;AAA9C,IAAA,IAAI,EAAC,OAAyC;AAAhC,IAAA,OAAK,EAAE,MAAA,CAAA;AAAyB,GAAxF,E;sBAAuE;AAAA,aAAI,C,UAAA,CAAJ;AAAA,K;;;;GAAvE,E;;AAAA,I,WAAA,CAuBI,EAtBJ,YAAA,CAqBa,qBArBb,EAqBa;AArBD,IAAA,KAAK,EAAC,YAqBL;AArB0B,IAAA,IAAI,EAAE,IAAA,CAAA,OAqBhC;;aArBgC,IAAA,CAAA,OAAA,GAAO,M;MAqBvC;AArB0C,IAAA,SAAO,EAAE,MAAA,CAAA,QAqBnD;AArB6D,IAAA,KAAK,EAAC,MAqBnE;AArB0E,0BAAA;AAqB1E,GArBb,E;sBACE;AAAA,aAmBiB,CAnBjB,YAAA,CAmBiB,yBAnBjB,EAmBiB,IAnBjB,EAmBiB;0BAlBf;AAAA,iBAKE,CALF,YAAA,CAKE,oBALF,EAKE;wBAJS,IAAA,CAAA,OAIT;;qBAJS,IAAA,CAAA,OAAA,GAAO,M;cAIhB;AAHA,YAAA,KAAK,EAAC,KAGN;AAFA,YAAA,SAAS,EAAT,EAEA;AADA,YAAA,WAAW,EAAC;AACZ,WALF,E,IAAA,E;;AAAA,Y,cAAA,CAKE,EACF,YAAA,CAKE,oBALF,EAKE;wBAJS,IAAA,CAAA,OAIT;;qBAJS,IAAA,CAAA,OAAA,GAAO,M;cAIhB;AAHA,YAAA,KAAK,EAAC,KAGN;AAFA,YAAA,SAAS,EAAT,EAEA;AADA,YAAA,WAAW,EAAC;AACZ,WALF,E,IAAA,E;;AAAA,Y,cAAA,CADE,EAOF,YAAA,CAKE,oBALF,EAKE;wBAJS,IAAA,CAAA,QAIT;;qBAJS,IAAA,CAAA,QAAA,GAAQ,M;cAIjB;AAHA,YAAA,KAAK,EAAC,MAGN;AAFA,YAAA,SAAS,EAAT,EAEA;AADA,YAAA,WAAW,EAAC;AACZ,WALF,E,IAAA,E;;AAAA,Y,cAAA,CAPE,CALF;AAAA,S,CAkBe;;;;AAAA,OAnBjB,CAmBiB,CAnBjB;AAAA,K;;;;GADF,E;;AAAA,I,qBAAA,CAsBI,CA1BN,C","sourcesContent":["<template>\r\n  <div class=\"account\">\r\n    <Header title=\"账户安全\" />\r\n    <van-cell title=\"密码修改\" @click=\"visible = true\" is-link />\r\n    <van-button class=\"logout\" type=\"primary\" size=\"large\" @click=\"logout\">退出登录</van-button>\r\n    <van-dialog class=\"modal-pass\" v-model:show=\"visible\" @confirm=\"handleOk\" title=\"修改密码\" show-cancel-button>\r\n      <van-cell-group>\r\n        <van-field\r\n          v-model=\"oldPass\"\r\n          label=\"原密码\"\r\n          clearable\r\n          placeholder=\"请输入原密码\"\r\n        />\r\n        <van-field\r\n          v-model=\"newPass\"\r\n          label=\"新密码\"\r\n          clearable\r\n          placeholder=\"请输入新密码\"\r\n        />\r\n        <van-field\r\n          v-model=\"newPass2\"\r\n          label=\"确认密码\"\r\n          clearable\r\n          placeholder=\"再次输入确认\"\r\n        />\r\n      </van-cell-group>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { Toast } from 'vant'\r\nimport Header from '../components/Header.vue'\r\nimport axios from '../utils/axios'\r\n\r\nexport default {\r\n  name: 'Account',\r\n  components: {\r\n    Header\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const state = reactive({\r\n      visible: false,\r\n      oldPass: '',\r\n      newPass: '',\r\n      newPass2: ''\r\n    })\r\n\r\n    // 修改密码\r\n    const handleOk = async () => {\r\n      if (state.newPass != state.newPass2) {\r\n        Toast.fail('新密码不一致')\r\n        return\r\n      }\r\n      /**\r\n       * 修改密码接口 /user/modify_pass 接收三个参数：\r\n       * old_pass：老密码。\r\n       * new_pass：新密码。\r\n       * new_pass2：新密码再次确认。\r\n       */\r\n      const { data } = axios.post('/user/modify_pass', {\r\n        old_pass: state.oldPass,\r\n        new_pass: state.newPass,\r\n        new_pass2: state.newPass2\r\n      })\r\n\r\n      Toast.success('修改成功')\r\n    }\r\n\r\n    // 退出登录\r\n    const logout = () => {\r\n      localStorage.removeItem('token')\r\n      router.push({ path: '/login' })\r\n    }\r\n    /**\r\n     * 退出登录操作，\r\n     * 直接通过 localStorage.removeItem('token') 把存在本地的 token 清空便可，\r\n     * 下一次请求就不会带上 token 了。\r\n     * 这里要注意，如果是设置 cookie 的话，\r\n     * 需要服务端提供接口清理当前域下的 cookie 信息，\r\n     * 这里采用的是 token 鉴权的方式，\r\n     * 为了方便后续开发小程序和 App，归结于他们没有浏览器环境的 cookie 能力\r\n     */\r\n    return {\r\n      ...toRefs(state),\r\n      handleOk,\r\n      logout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import url('../config/custom.less');\r\n  .account {\r\n    min-height: 100%;\r\n    background-color: #f5f5f5;\r\n    \r\n    .logout {\r\n      display: block;\r\n      margin: 0 auto;\r\n      width: 90%;\r\n      margin-top: 20px;\r\n      background-color: @primary;\r\n      border-color: @primary;\r\n    }\r\n    .modal-pass {\r\n      .van-dialog__header {\r\n        padding: 10px 0;\r\n      }\r\n      .van-dialog__content {\r\n        .van-cell-group {\r\n          padding: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"],"sourceRoot":""}]}