{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\components\\PopType.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\components\\PopType.vue","mtime":1644923773328},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbGVub3ZvL0Rlc2t0b3AvY29zdC9kYWlseS1jb3N0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvbGVub3ZvL0Rlc2t0b3AvY29zdC9kYWlseS1jb3N0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJy4uL3V0aWxzL2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBzZWxlY3Q6IEZ1bmN0aW9uIC8vIOWklumDqOS8oOWFpeeahCBzZWxlY3Qg5pa55rOV77yM5Zue5Y6757uE5Lu25YaF6YCJ5oup55qE57G75Z6L5pWw5o2uCgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBjdHgpIHsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgYWN0aXZlOiAn5YWo6YOo57G75Z6LJywKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGV4cGVuc2U6IFtdLAogICAgICBpbmNvbWU6IFtdCiAgICB9KTsgLy8g6K+35rGC5qCH562+5o6l5Y+j5pS+5Zyo5by556qX5YaF77yM6L+Z5Liq5by556qX5Y+v6IO95Lya6KKr5aSN55So77yM5omA5Lul6K+35rGC5aaC5p6c5pS+5Zyo5aSW6Z2i77yM5Lya6YCg5oiQ5Luj56CB5YaX5L2Z44CCCgogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3lpZWxkJGF4aW9zJGdldCwgbGlzdDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvdHlwZS9saXN0Jyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgbGlzdCA9IF95aWVsZCRheGlvcyRnZXQuZGF0YS5saXN0OwogICAgICAgICAgICAgIHN0YXRlLmV4cGVuc2UgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGkudHlwZSA9PSAxOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHN0YXRlLmluY29tZSA9IGxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaS50eXBlID09IDI7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsgLy8g5o6n5Yi25by556qX55qE5bGV56S65ZKM6ZqQ6JePCgogICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgc3RhdGUuc2hvdyA9ICFzdGF0ZS5zaG93OwogICAgfTsgLy8g6YCJ5oup5qCH562+5pa55rOVCgoKICAgIHZhciBjaG9zZVR5cGUgPSBmdW5jdGlvbiBjaG9zZVR5cGUoaXRlbSkgewogICAgICBzdGF0ZS5hY3RpdmUgPSBpdGVtLmlkOwogICAgICBzdGF0ZS5zaG93ID0gZmFsc2U7IC8vIOmAmui/hyBlbWl0IOaWueazleinpuWPkeeItue7hOS7tuS8oOWFpeeahCBzZWxlY3Qg5pa55rOV77yM5bm25bCG6YCJ5oup5aW955qE57G75Z6L5pWw5o2u5Lyg5Zue5Y67CgogICAgICBjdHguZW1pdCgnc2VsZWN0JywgaXRlbSk7CiAgICB9OwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvUmVmcyhzdGF0ZSkpLCB7fSwgewogICAgICB0b2dnbGU6IHRvZ2dsZSwKICAgICAgY2hvc2VUeXBlOiBjaG9zZVR5cGUKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\components\\PopType.vue"],"names":[],"mappings":";;;;AA2BA,SAAS,SAAT,EAAoB,QAApB,EAA8B,MAA9B,QAA4C,KAA5C;AACA,OAAO,KAAP,MAAkB,gBAAlB;AACA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE,QADH,CAEL;;AAFK,GADM;AAKb,EAAA,KALa,iBAKP,KALO,EAKA,GALA,EAKK;AAChB,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,MAAM,EAAE,MADa;AAErB,MAAA,IAAI,EAAE,KAFe;AAGrB,MAAA,OAAO,EAAE,EAHY;AAIrB,MAAA,MAAM,EAAE;AAJa,KAAD,CAAtB,CADgB,CAOhB;;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGyB,KAAK,CAAC,GAAN,CAAU,YAAV,CAHzB;;AAAA;AAAA;AAGQ,cAAA,IAHR,oBAGA,IAHA,CAGQ,IAHR;AAIR,cAAA,KAAK,CAAC,OAAN,GAAgB,IAAI,CAAC,MAAL,CAAY,UAAA,CAAA;AAAA,uBAAK,CAAC,CAAC,IAAF,IAAU,CAAf;AAAA,eAAZ,CAAhB;AACA,cAAA,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,MAAL,CAAY,UAAA,CAAA;AAAA,uBAAK,CAAC,CAAC,IAAF,IAAU,CAAf;AAAA,eAAZ,CAAf;;AALQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CARgB,CAehB;;AACA,QAAM,MAAK,GAAI,SAAT,MAAS,GAAM;AACnB,MAAA,KAAK,CAAC,IAAN,GAAa,CAAC,KAAK,CAAC,IAApB;AACF,KAFA,CAhBgB,CAmBhB;;;AACA,QAAM,SAAQ,GAAI,SAAZ,SAAY,CAAC,IAAD,EAAU;AAC1B,MAAA,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,EAApB;AACA,MAAA,KAAK,CAAC,IAAN,GAAa,KAAb,CAF0B,CAG1B;;AACA,MAAA,GAAG,CAAC,IAAJ,CAAS,QAAT,EAAmB,IAAnB;AACF,KALA;;AAOA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,MAAM,EAAN,MAFF;AAGE,MAAA,SAAQ,EAAR;AAHF;AAKF;AArCa,CAAf","sourcesContent":["<template>\r\n  <van-popup\r\n    v-model:show=\"show\"\r\n    position=\"bottom\"\r\n    round\r\n  >\r\n    <div class=\"pop\">\r\n      <div class=\"header van-hairline--bottom\">\r\n        请选择类型\r\n        <van-icon name=\"cross\" class=\"cross\" @click=\"toggle\" />\r\n      </div>\r\n      <div class=\"content\">\r\n        <div @click=\"choseType({ id: 'all' })\" :class=\"{ all: true, active: active == '全部类型' }\">全部类型</div>\r\n        <div class=\"title\">支出</div>\r\n        <div class=\"expense-wrap\">\r\n          <p @click=\"choseType(item)\" :class=\"{active: active == item.id}\" v-for=\"item in expense\" :key=\"item\">{{ item.name }}</p>\r\n        </div>\r\n        <div class=\"title\">收入</div>\r\n        <div class=\"income-wrap\">\r\n          <p @click=\"choseType(item)\" :class=\"{active: active == item.id}\" v-for=\"item in income\" :key=\"item\">{{ item.name }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs } from 'vue'\r\nimport axios from '../utils/axios'\r\nexport default {\r\n  props: {\r\n    select: Function\r\n    // 外部传入的 select 方法，回去组件内选择的类型数据\r\n  },\r\n  setup(props, ctx) {\r\n    const state = reactive({\r\n      active: '全部类型',\r\n      show: false,\r\n      expense: [],\r\n      income: []\r\n    })\r\n    // 请求标签接口放在弹窗内，这个弹窗可能会被复用，所以请求如果放在外面，会造成代码冗余。\r\n    onMounted(async () => {\r\n      // 请求标签列表数据，数据放在内部请求，如果放在外部传入的话，父组件每次都要写接口请求，会造成代码冗余\r\n      // type=1 代表支出的标签类型，type=2 代表收入的标签类型\r\n      const { data: { list } } = await axios.get('/type/list')\r\n      state.expense = list.filter(i => i.type == 1)\r\n      state.income = list.filter(i => i.type == 2)\r\n    })\r\n    // 控制弹窗的展示和隐藏\r\n    const toggle = () => {\r\n      state.show = !state.show\r\n    }\r\n    // 选择标签方法\r\n    const choseType = (item) => {\r\n      state.active = item.id\r\n      state.show = false\r\n      // 通过 emit 方法触发父组件传入的 select 方法，并将选择好的类型数据传回去\r\n      ctx.emit('select', item)\r\n    }\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      toggle,\r\n      choseType\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  @import url('../config/custom.less');\r\n  .pop {\r\n    position: relative;\r\n    background-color: #f5f5f5;\r\n    .header {\r\n      position: sticky;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 1000;\r\n      width: 100%;\r\n      height: 56px;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      line-height: 56px;\r\n      color: @color-text-base;\r\n      background-color: #fff;\r\n      .cross {\r\n        position: absolute;\r\n        left: 10px;\r\n        top: 50%;\r\n        font-size: 20px;\r\n        transform: translateY(-50%);\r\n        color: @color-text-secondary;\r\n      }\r\n    }\r\n    .content {\r\n      padding: 20px;\r\n      .all {\r\n        display: inline-block;\r\n        padding: 12px 20px;\r\n        font-size: 16px;\r\n        color: @color-text-base;\r\n        background-color: #fff;\r\n      }\r\n      .title {\r\n        color: @color-text-caption;\r\n        margin: 10px 0;\r\n        font-size: 14px;\r\n      }\r\n      .expense-wrap, .income-wrap {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        p {\r\n          width: calc(~\"(100% - 20px) / 3\");\r\n          text-align: center;\r\n          padding: 12px 0;\r\n          margin-bottom: 10px;\r\n          background-color: #fff;\r\n          font-size: 16px;\r\n        }\r\n      }\r\n      .active {\r\n        background-color: @primary!important;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>"],"sourceRoot":""}]}