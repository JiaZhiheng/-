{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\components\\PopType.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\components\\PopType.vue","mtime":1645024041715},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbGVub3ZvL0Rlc2t0b3AvY29zdC9cdTVDMEZcdTgzQ0FcdThCQjBcdThEMjYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9sZW5vdm8vRGVza3RvcC9jb3N0L1x1NUMwRlx1ODNDQVx1OEJCMFx1OEQyNi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IG9uTW91bnRlZCwgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICcuLi91dGlscy9heGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgc2VsZWN0OiBGdW5jdGlvbiAvLyDlpJbpg6jkvKDlhaXnmoQgc2VsZWN0IOaWueazle+8jOWbnuWOu+e7hOS7tuWGhemAieaLqeeahOexu+Wei+aVsOaNrgoKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgY3R4KSB7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGFjdGl2ZTogJ+WFqOmDqOexu+WeiycsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBleHBlbnNlOiBbXSwKICAgICAgaW5jb21lOiBbXQogICAgfSk7IC8vIOivt+axguagh+etvuaOpeWPo+aUvuWcqOW8ueeql+WGhe+8jOi/meS4quW8ueeql+WPr+iDveS8muiiq+WkjeeUqO+8jOaJgOS7peivt+axguWmguaenOaUvuWcqOWklumdou+8jOS8mumAoOaIkOS7o+eggeWGl+S9meOAggoKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF95aWVsZCRheGlvcyRnZXQsIGxpc3Q7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL3R5cGUvbGlzdCcpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGxpc3QgPSBfeWllbGQkYXhpb3MkZ2V0LmRhdGEubGlzdDsKICAgICAgICAgICAgICBzdGF0ZS5leHBlbnNlID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpLnR5cGUgPT0gMTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBzdGF0ZS5pbmNvbWUgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGkudHlwZSA9PSAyOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7IC8vIOaOp+WItuW8ueeql+eahOWxleekuuWSjOmakOiXjwoKICAgIHZhciB0b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIHN0YXRlLnNob3cgPSAhc3RhdGUuc2hvdzsKICAgIH07IC8vIOmAieaLqeagh+etvuaWueazlQoKCiAgICB2YXIgY2hvc2VUeXBlID0gZnVuY3Rpb24gY2hvc2VUeXBlKGl0ZW0pIHsKICAgICAgc3RhdGUuYWN0aXZlID0gaXRlbS5pZDsKICAgICAgc3RhdGUuc2hvdyA9IGZhbHNlOyAvLyDpgJrov4cgZW1pdCDmlrnms5Xop6blj5HniLbnu4Tku7bkvKDlhaXnmoQgc2VsZWN0IOaWueazle+8jOW5tuWwhumAieaLqeWlveeahOexu+Wei+aVsOaNruS8oOWbnuWOuwoKICAgICAgY3R4LmVtaXQoJ3NlbGVjdCcsIGl0ZW0pOwogICAgfTsKCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoc3RhdGUpKSwge30sIHsKICAgICAgdG9nZ2xlOiB0b2dnbGUsCiAgICAgIGNob3NlVHlwZTogY2hvc2VUeXBlCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\components\\PopType.vue"],"names":[],"mappings":";;;;AA2BA,SAAS,SAAT,EAAoB,QAApB,EAA8B,MAA9B,QAA4C,KAA5C;AACA,OAAO,KAAP,MAAkB,gBAAlB;AACA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE,QADH,CAEL;;AAFK,GADM;AAKb,EAAA,KALa,iBAKP,KALO,EAKA,GALA,EAKK;AAChB,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,MAAM,EAAE,MADa;AAErB,MAAA,IAAI,EAAE,KAFe;AAGrB,MAAA,OAAO,EAAE,EAHY;AAIrB,MAAA,MAAM,EAAE;AAJa,KAAD,CAAtB,CADgB,CAOhB;;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGyB,KAAK,CAAC,GAAN,CAAU,YAAV,CAHzB;;AAAA;AAAA;AAGQ,cAAA,IAHR,oBAGA,IAHA,CAGQ,IAHR;AAIR,cAAA,KAAK,CAAC,OAAN,GAAgB,IAAI,CAAC,MAAL,CAAY,UAAA,CAAA;AAAA,uBAAK,CAAC,CAAC,IAAF,IAAU,CAAf;AAAA,eAAZ,CAAhB;AACA,cAAA,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,MAAL,CAAY,UAAA,CAAA;AAAA,uBAAK,CAAC,CAAC,IAAF,IAAU,CAAf;AAAA,eAAZ,CAAf;;AALQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CARgB,CAehB;;AACA,QAAM,MAAK,GAAI,SAAT,MAAS,GAAM;AACnB,MAAA,KAAK,CAAC,IAAN,GAAa,CAAC,KAAK,CAAC,IAApB;AACF,KAFA,CAhBgB,CAmBhB;;;AACA,QAAM,SAAQ,GAAI,SAAZ,SAAY,CAAC,IAAD,EAAU;AAC1B,MAAA,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,EAApB;AACA,MAAA,KAAK,CAAC,IAAN,GAAa,KAAb,CAF0B,CAG1B;;AACA,MAAA,GAAG,CAAC,IAAJ,CAAS,QAAT,EAAmB,IAAnB;AACF,KALA;;AAOA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,MAAM,EAAN,MAFF;AAGE,MAAA,SAAQ,EAAR;AAHF;AAKF;AArCa,CAAf","sourcesContent":["<template>\r\n  <van-popup\r\n    v-model:show=\"show\"\r\n    position=\"bottom\"\r\n    round\r\n  >\r\n    <div class=\"pop\">\r\n      <div class=\"header van-hairline--bottom\">\r\n        请选择类型\r\n        <van-icon name=\"cross\" class=\"cross\" @click=\"toggle\" />\r\n      </div>\r\n      <div class=\"content\">\r\n        <div @click=\"choseType({ id: 'all' })\" :class=\"{ all: true, active: active == '全部类型' }\">全部类型</div>\r\n        <div class=\"title\">支出</div>\r\n        <div class=\"expense-wrap\">\r\n          <p @click=\"choseType(item)\" :class=\"{active: active == item.id}\" v-for=\"item in expense\" :key=\"item\">{{ item.name }}</p>\r\n        </div>\r\n        <div class=\"title\">收入</div>\r\n        <div class=\"income-wrap\">\r\n          <p @click=\"choseType(item)\" :class=\"{active: active == item.id}\" v-for=\"item in income\" :key=\"item\">{{ item.name }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs } from 'vue'\r\nimport axios from '../utils/axios'\r\nexport default {\r\n  props: {\r\n    select: Function\r\n    // 外部传入的 select 方法，回去组件内选择的类型数据\r\n  },\r\n  setup(props, ctx) {\r\n    const state = reactive({\r\n      active: '全部类型',\r\n      show: false,\r\n      expense: [],\r\n      income: []\r\n    })\r\n    // 请求标签接口放在弹窗内，这个弹窗可能会被复用，所以请求如果放在外面，会造成代码冗余。\r\n    onMounted(async () => {\r\n      // 请求标签列表数据，数据放在内部请求，如果放在外部传入的话，父组件每次都要写接口请求，会造成代码冗余\r\n      // type=1 代表支出的标签类型，type=2 代表收入的标签类型\r\n      const { data: { list } } = await axios.get('/type/list')\r\n      state.expense = list.filter(i => i.type == 1)\r\n      state.income = list.filter(i => i.type == 2)\r\n    })\r\n    // 控制弹窗的展示和隐藏\r\n    const toggle = () => {\r\n      state.show = !state.show\r\n    }\r\n    // 选择标签方法\r\n    const choseType = (item) => {\r\n      state.active = item.id\r\n      state.show = false\r\n      // 通过 emit 方法触发父组件传入的 select 方法，并将选择好的类型数据传回去\r\n      ctx.emit('select', item)\r\n    }\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      toggle,\r\n      choseType\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  @import url('../config/custom.less');\r\n  .pop {\r\n    position: relative;\r\n    background-color: #f5f5f5;\r\n    .header {\r\n      position: sticky;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 1000;\r\n      width: 100%;\r\n      height: 56px;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      line-height: 56px;\r\n      color: @color-text-base;\r\n      background-color: #fff;\r\n      .cross {\r\n        position: absolute;\r\n        left: 10px;\r\n        top: 50%;\r\n        font-size: 20px;\r\n        transform: translateY(-50%);\r\n        color: @color-text-secondary;\r\n      }\r\n    }\r\n    .content {\r\n      padding: 20px;\r\n      .all {\r\n        display: inline-block;\r\n        padding: 12px 20px;\r\n        font-size: 16px;\r\n        color: @color-text-base;\r\n        background-color: #fff;\r\n      }\r\n      .title {\r\n        color: @color-text-caption;\r\n        margin: 10px 0;\r\n        font-size: 14px;\r\n      }\r\n      .expense-wrap, .income-wrap {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        p {\r\n          width: calc(~\"(100% - 20px) / 3\");\r\n          text-align: center;\r\n          padding: 12px 0;\r\n          margin-bottom: 10px;\r\n          background-color: #fff;\r\n          font-size: 16px;\r\n        }\r\n      }\r\n      .active {\r\n        background-color: @primary!important;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>"],"sourceRoot":""}]}