{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\utils\\axios.js","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\utils\\axios.js","mtime":1644923783791},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAidmFudC9lcy90b2FzdC9zdHlsZS9sZXNzIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQzovVXNlcnMvbGVub3ZvL0Rlc2t0b3AvY29zdC9cdTVDMEZcdTgzQ0FcdThCQjBcdThEMjYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdkZXZlbG9wbWVudCcgPyAnL2FwaScgOiAnLy80Ny45OS4xMzQuMTI2OjcwMDgvYXBpJzsgLy8g5qC55o2u546v5aKD5Y+Y6YeP5YiH5o2i5pys5Zyw5ZKM57q/5LiK55qE6K+35rGC5Zyw5Z2ACgpheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOyAvLyDlhYHorrjot6jln58KCmF4aW9zLmRlZmF1bHRzLmhlYWRlcnNbJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICIiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCBudWxsKTsgLy8g5pys6aG555uu6YeH55SoIHRva2VuIOeahOeUqOaIt+mJtOadg+aWueW8j++8jOWcqOivt+axguWktOeahCBoZWFkZXJzIOWGhea3u+WKoCB0b2tlbu+8jOavj+asoeivt+axgumDveS8mumqjOivgeeUqOaIt+S/oeaBrwoKYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJzsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKF90eXBlb2YocmVzLmRhdGEpICE9PSAnb2JqZWN0JykgewogICAgLy8gdnVlLXJvdXRlciA0Lngg55qE5a6e5L6LCiAgICBfVG9hc3QuZmFpbCgn5pyN5Yqh56uv5byC5bi477yBJyk7CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcyk7CiAgfSAvLyBjb2RlIOmdniAyMDAg55qE5oOF5Ya15LiL5Li65byC5bi45oOF5Ya1CiAgLy8g5b2T6L+U5Zue55qEIGNvZGUg56CB5Li66Z2eIDIwMCDml7bvvIzov5vlhaXliKTmlq3or63lj6XlhoUKCgogIGlmIChyZXMuZGF0YS5jb2RlICE9IDIwMCkgewogICAgLy8g5bCG6ZSZ6K+v5o+Q56S65YWo5bGA5bGV56S6CiAgICBpZiAocmVzLmRhdGEubXNnKSBfVG9hc3QuZmFpbChyZXMuZGF0YS5tc2cpOyAvLyDov5Tlm54gNDAxIOS7o+ihqOaOpeWPo+mcgOimgeeZu+W9le+8jOe7p+iAjOi3s+i9rOWIsOeZu+W9lemhtemdogoKICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDQwMSkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5kYXRhKTsKICB9IC8vIOWFtuS7luaDheWGteebtOaOpei/lOWbniBkYXRhIOaVsOaNrgogIC8vIGNvZGUg56CB5Li6IDIwMCDnmoTml7blgJnvvIzov5Tlm57mlbTkuKrnu5PmnoTkvZMKCgogIHJldHVybiByZXMuZGF0YTsKfSk7CmV4cG9ydCBkZWZhdWx0IGF4aW9zOw=="},{"version":3,"sources":["C:/Users/lenovo/Desktop/cost/小菊记账/src/utils/axios.js"],"names":["axios","router","defaults","baseURL","process","env","NODE_ENV","withCredentials","headers","localStorage","getItem","post","interceptors","response","use","res","data","fail","Promise","reject","code","msg","push","path"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AAEAD,KAAK,CAACE,QAAN,CAAeC,OAAf,GAAyBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,aAAxB,GAAwC,MAAxC,GAAiD,0BAA1E,C,CAAqG;;AACrGN,KAAK,CAACE,QAAN,CAAeK,eAAf,GAAiC,IAAjC,C,CAAsC;;AACtCP,KAAK,CAACE,QAAN,CAAeM,OAAf,CAAuB,kBAAvB,IAA6C,gBAA7C;AACAR,KAAK,CAACE,QAAN,CAAeM,OAAf,CAAuB,eAAvB,cAA6CC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAA9E,E,CAAqF;;AACrFV,KAAK,CAACE,QAAN,CAAeM,OAAf,CAAuBG,IAAvB,CAA4B,cAA5B,IAA8C,kBAA9C;AAEAX,KAAK,CAACY,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,UAAAC,GAAG,EAAI;AACnC,MAAI,QAAOA,GAAG,CAACC,IAAX,MAAoB,QAAxB,EAAkC;AAAE;AAChC,WAAMC,IAAN,CAAW,QAAX;;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP;AACH,GAJkC,CAKnC;AACA;;;AACA,MAAIA,GAAG,CAACC,IAAJ,CAASI,IAAT,IAAiB,GAArB,EAA0B;AACtB;AACA,QAAIL,GAAG,CAACC,IAAJ,CAASK,GAAb,EAAkB,OAAMJ,IAAN,CAAWF,GAAG,CAACC,IAAJ,CAASK,GAApB,EAFI,CAGlB;;AACJ,QAAIN,GAAG,CAACC,IAAJ,CAASI,IAAT,IAAiB,GAArB,EAA0B;AACtBnB,MAAAA,MAAM,CAACqB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACH;;AACD,WAAOL,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACC,IAAnB,CAAP;AACH,GAfkC,CAgBnC;AACA;;;AACA,SAAOD,GAAG,CAACC,IAAX;AACH,CAnBD;AAqBA,eAAehB,KAAf","sourcesContent":["import axios from 'axios'\r\nimport { Toast } from 'vant'\r\nimport router from '../router'\r\n\r\naxios.defaults.baseURL = process.env.NODE_ENV == 'development' ? '/api' : '//47.99.134.126:7008/api' // 根据环境变量切换本地和线上的请求地址\r\naxios.defaults.withCredentials = true // 允许跨域\r\naxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\r\naxios.defaults.headers['Authorization'] = `${localStorage.getItem('token') || null}` // 本项目采用 token 的用户鉴权方式，在请求头的 headers 内添加 token，每次请求都会验证用户信息\r\naxios.defaults.headers.post['Content-Type'] = 'application/json'\r\n\r\naxios.interceptors.response.use(res => {\r\n    if (typeof res.data !== 'object') { // vue-router 4.x 的实例\r\n        Toast.fail('服务端异常！')\r\n        return Promise.reject(res)\r\n    }\r\n    // code 非 200 的情况下为异常情况\r\n    // 当返回的 code 码为非 200 时，进入判断语句内\r\n    if (res.data.code != 200) {\r\n        // 将错误提示全局展示\r\n        if (res.data.msg) Toast.fail(res.data.msg)\r\n            // 返回 401 代表接口需要登录，继而跳转到登录页面\r\n        if (res.data.code == 401) {\r\n            router.push({ path: '/login' })\r\n        }\r\n        return Promise.reject(res.data)\r\n    }\r\n    // 其他情况直接返回 data 数据\r\n    // code 码为 200 的时候，返回整个结构体\r\n    return res.data\r\n})\r\n\r\nexport default axios"]}]}