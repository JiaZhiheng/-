{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\utils\\axios.js","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\src\\utils\\axios.js","mtime":1644923783791},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\daily-cost\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAidmFudC9lcy90b2FzdC9zdHlsZS9sZXNzIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQzovVXNlcnMvbGVub3ZvL0Rlc2t0b3AvY29zdC9kYWlseS1jb3N0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAnZGV2ZWxvcG1lbnQnID8gJy9hcGknIDogJy8vNDcuOTkuMTM0LjEyNjo3MDA4L2FwaSc7IC8vIOagueaNrueOr+Wig+WPmOmHj+WIh+aNouacrOWcsOWSjOe6v+S4iueahOivt+axguWcsOWdgAoKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsgLy8g5YWB6K646Leo5Z+fCgpheGlvcy5kZWZhdWx0cy5oZWFkZXJzWydYLVJlcXVlc3RlZC1XaXRoJ10gPSAnWE1MSHR0cFJlcXVlc3QnOwpheGlvcy5kZWZhdWx0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAiIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgbnVsbCk7IC8vIOacrOmhueebrumHh+eUqCB0b2tlbiDnmoTnlKjmiLfpibTmnYPmlrnlvI/vvIzlnKjor7fmsYLlpLTnmoQgaGVhZGVycyDlhoXmt7vliqAgdG9rZW7vvIzmr4/mrKHor7fmsYLpg73kvJrpqozor4HnlKjmiLfkv6Hmga8KCmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIGlmIChfdHlwZW9mKHJlcy5kYXRhKSAhPT0gJ29iamVjdCcpIHsKICAgIC8vIHZ1ZS1yb3V0ZXIgNC54IOeahOWunuS+iwogICAgX1RvYXN0LmZhaWwoJ+acjeWKoeerr+W8guW4uO+8gScpOwoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMpOwogIH0gLy8gY29kZSDpnZ4gMjAwIOeahOaDheWGteS4i+S4uuW8guW4uOaDheWGtQogIC8vIOW9k+i/lOWbnueahCBjb2RlIOeggeS4uumdniAyMDAg5pe277yM6L+b5YWl5Yik5pat6K+t5Y+l5YaFCgoKICBpZiAocmVzLmRhdGEuY29kZSAhPSAyMDApIHsKICAgIC8vIOWwhumUmeivr+aPkOekuuWFqOWxgOWxleekugogICAgaWYgKHJlcy5kYXRhLm1zZykgX1RvYXN0LmZhaWwocmVzLmRhdGEubXNnKTsgLy8g6L+U5ZueIDQwMSDku6PooajmjqXlj6PpnIDopoHnmbvlvZXvvIznu6fogIzot7PovazliLDnmbvlvZXpobXpnaIKCiAgICBpZiAocmVzLmRhdGEuY29kZSA9PSA0MDEpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZGF0YSk7CiAgfSAvLyDlhbbku5bmg4XlhrXnm7TmjqXov5Tlm54gZGF0YSDmlbDmja4KICAvLyBjb2RlIOeggeS4uiAyMDAg55qE5pe25YCZ77yM6L+U5Zue5pW05Liq57uT5p6E5L2TCgoKICByZXR1cm4gcmVzLmRhdGE7Cn0pOwpleHBvcnQgZGVmYXVsdCBheGlvczs="},{"version":3,"sources":["C:/Users/lenovo/Desktop/cost/daily-cost/src/utils/axios.js"],"names":["axios","router","defaults","baseURL","process","env","NODE_ENV","withCredentials","headers","localStorage","getItem","post","interceptors","response","use","res","data","fail","Promise","reject","code","msg","push","path"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AAEAD,KAAK,CAACE,QAAN,CAAeC,OAAf,GAAyBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,aAAxB,GAAwC,MAAxC,GAAiD,0BAA1E,C,CAAqG;;AACrGN,KAAK,CAACE,QAAN,CAAeK,eAAf,GAAiC,IAAjC,C,CAAsC;;AACtCP,KAAK,CAACE,QAAN,CAAeM,OAAf,CAAuB,kBAAvB,IAA6C,gBAA7C;AACAR,KAAK,CAACE,QAAN,CAAeM,OAAf,CAAuB,eAAvB,cAA6CC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAA9E,E,CAAqF;;AACrFV,KAAK,CAACE,QAAN,CAAeM,OAAf,CAAuBG,IAAvB,CAA4B,cAA5B,IAA8C,kBAA9C;AAEAX,KAAK,CAACY,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,UAAAC,GAAG,EAAI;AACnC,MAAI,QAAOA,GAAG,CAACC,IAAX,MAAoB,QAAxB,EAAkC;AAAE;AAChC,WAAMC,IAAN,CAAW,QAAX;;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP;AACH,GAJkC,CAKnC;AACA;;;AACA,MAAIA,GAAG,CAACC,IAAJ,CAASI,IAAT,IAAiB,GAArB,EAA0B;AACtB;AACA,QAAIL,GAAG,CAACC,IAAJ,CAASK,GAAb,EAAkB,OAAMJ,IAAN,CAAWF,GAAG,CAACC,IAAJ,CAASK,GAApB,EAFI,CAGlB;;AACJ,QAAIN,GAAG,CAACC,IAAJ,CAASI,IAAT,IAAiB,GAArB,EAA0B;AACtBnB,MAAAA,MAAM,CAACqB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACH;;AACD,WAAOL,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACC,IAAnB,CAAP;AACH,GAfkC,CAgBnC;AACA;;;AACA,SAAOD,GAAG,CAACC,IAAX;AACH,CAnBD;AAqBA,eAAehB,KAAf","sourcesContent":["import axios from 'axios'\r\nimport { Toast } from 'vant'\r\nimport router from '../router'\r\n\r\naxios.defaults.baseURL = process.env.NODE_ENV == 'development' ? '/api' : '//47.99.134.126:7008/api' // 根据环境变量切换本地和线上的请求地址\r\naxios.defaults.withCredentials = true // 允许跨域\r\naxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\r\naxios.defaults.headers['Authorization'] = `${localStorage.getItem('token') || null}` // 本项目采用 token 的用户鉴权方式，在请求头的 headers 内添加 token，每次请求都会验证用户信息\r\naxios.defaults.headers.post['Content-Type'] = 'application/json'\r\n\r\naxios.interceptors.response.use(res => {\r\n    if (typeof res.data !== 'object') { // vue-router 4.x 的实例\r\n        Toast.fail('服务端异常！')\r\n        return Promise.reject(res)\r\n    }\r\n    // code 非 200 的情况下为异常情况\r\n    // 当返回的 code 码为非 200 时，进入判断语句内\r\n    if (res.data.code != 200) {\r\n        // 将错误提示全局展示\r\n        if (res.data.msg) Toast.fail(res.data.msg)\r\n            // 返回 401 代表接口需要登录，继而跳转到登录页面\r\n        if (res.data.code == 401) {\r\n            router.push({ path: '/login' })\r\n        }\r\n        return Promise.reject(res.data)\r\n    }\r\n    // 其他情况直接返回 data 数据\r\n    // code 码为 200 的时候，返回整个结构体\r\n    return res.data\r\n})\r\n\r\nexport default axios"]}]}