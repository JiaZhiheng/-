{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\User.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\User.vue","mtime":1645097320853},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbGVub3ZvL0Rlc2t0b3AvY29zdC9cdTVDMEZcdTgzQ0FcdThCQjBcdThEMjYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInZhbnQvZXMvdG9hc3Qvc3R5bGUvbGVzcyI7CmltcG9ydCBfVG9hc3QgZnJvbSAidmFudC9lcy90b2FzdCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2xlbm92by9EZXNrdG9wL2Nvc3QvXHU1QzBGXHU4M0NBXHU4QkIwXHU4RDI2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAidnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gIi4uL3V0aWxzL2F4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIHVzZXI6IHt9LAogICAgICAvLyDnlKjmiLfkv6Hmga8KICAgICAgc2lnbmF0dXJlOiAiIiwKICAgICAgdmlzaWJsZVNpZzogZmFsc2UsCiAgICAgIHZpc2libGVSYXRlOiBmYWxzZSwKICAgICAgcmF0ZTogNC41CiAgICB9KTsKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGdldFVzZXJJbmZvKCk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsgLy8g6I635Y+W55So5oi35L+h5oGvCgogICAgdmFyIGdldFVzZXJJbmZvID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJGF4aW9zJGdldCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi91c2VyL2dldF91c2VyaW5mbyIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldC5kYXRhOwogICAgICAgICAgICAgICAgc3RhdGUudXNlciA9IGRhdGE7CiAgICAgICAgICAgICAgICBzdGF0ZS5zaWduYXR1cmUgPSBkYXRhLnNpZ25hdHVyZTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOyAvLyDkuKrmgKfnrb7lkI3lvLnnqpfnoa7orqQKCgogICAgdmFyIGNvbmZpcm1TaWcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkcG9zdCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvdXNlci9lZGl0X3NpZ25hdHVyZSIsIHsKICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBzdGF0ZS5zaWduYXR1cmUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkcG9zdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRheGlvcyRwb3N0LmRhdGE7CiAgICAgICAgICAgICAgICBzdGF0ZS51c2VyID0gZGF0YTsKICAgICAgICAgICAgICAgIHN0YXRlLnNpZ25hdHVyZSA9IGRhdGEuc2lnbmF0dXJlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gY29uZmlybVNpZygpIHsKICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8g6L2v5Lu26K+E5YiG5by556qX56Gu6K6kCiAgICAvLyBUb2FzdC5zdWNjZXNzKCfmhJ/osKLmgqjnmoTor4Tku7fvvIEnKTsKCgogICAgdmFyIGNvbmZpcm1SYXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX1RvYXN0KHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaEn+iwouaCqOeahOaUr+aMgSIsCiAgICAgICAgICAgICAgICAgIGljb246ICJsaWtlLW8iCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbmZpcm1SYXRlKCkgewogICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvUmVmcyhzdGF0ZSkpLCB7fSwgewogICAgICBjb25maXJtU2lnOiBjb25maXJtU2lnLAogICAgICBjb25maXJtUmF0ZTogY29uZmlybVJhdGUKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\User.vue"],"names":[],"mappings":";;;;;AA4DA,SAAS,SAAT,EAAoB,QAApB,EAA8B,MAA9B,QAA4C,KAA5C;AACA,OAAO,KAAP,MAAkB,gBAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,IAAI,EAAE,EADe;AACX;AACV,MAAA,SAAS,EAAE,EAFU;AAGrB,MAAA,UAAU,EAAE,KAHS;AAIrB,MAAA,WAAW,EAAE,KAJQ;AAKrB,MAAA,IAAI,EAAE;AALe,KAAD,CAAtB;AAQA,IAAA,SAAS,uEAAC;AAAA;AAAA;AAAA;AAAA;AACR,cAAA,WAAW;;AADH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CATM,CAaN;;AACA,QAAM,WAAU;AAAA,0EAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACK,KAAK,CAAC,GAAN,CAAU,oBAAV,CADL;;AAAA;AAAA;AACV,gBAAA,IADU,oBACV,IADU;AAElB,gBAAA,KAAK,CAAC,IAAN,GAAa,IAAb;AACA,gBAAA,KAAK,CAAC,SAAN,GAAkB,IAAI,CAAC,SAAvB;;AAHkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAV,WAAU;AAAA;AAAA;AAAA,OAAhB,CAdM,CAoBN;;;AACA,QAAM,UAAS;AAAA,0EAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACM,KAAK,CAAC,IAAN,CAAW,sBAAX,EAAmC;AACxD,kBAAA,SAAS,EAAE,KAAK,CAAC;AADuC,iBAAnC,CADN;;AAAA;AAAA;AACT,gBAAA,IADS,qBACT,IADS;AAIjB,gBAAA,KAAK,CAAC,IAAN,GAAa,IAAb;AACA,gBAAA,KAAK,CAAC,SAAN,GAAkB,IAAI,CAAC,SAAvB;;AALiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAT,UAAS;AAAA;AAAA;AAAA,OAAf,CArBM,CA6BN;AACA;;;AACA,QAAM,WAAU;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAClB,uBAAM;AACJ,kBAAA,OAAO,EAAE,QADL;AAEJ,kBAAA,IAAI,EAAE;AAFF,iBAAN;;AADkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAV,WAAU;AAAA;AAAA;AAAA,OAAhB;;AAOA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,UAAU,EAAV,UAFF;AAGE,MAAA,WAAW,EAAX;AAHF;AAKD;AA7CY,CAAf","sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <div class=\"head\">\r\n      <img class=\"avatar\" src=\"//s.yezgea02.com/1606836859539/onpeice.png\" />\r\n      <div class=\"info\">\r\n        <span class=\"name\">{{ user.username || \"\" }}</span>\r\n        <span class=\"slogen\">个性签名：{{ user.signature || \"\" }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <van-cell\r\n        icon=\"edit\"\r\n        @click=\"visibleSig = true\"\r\n        title=\"修改个性签名\"\r\n        is-link\r\n      />\r\n      <van-cell icon=\"setting-o\" to=\"/account\" title=\"账户安全\" is-link />\r\n      <van-cell\r\n        icon=\"good-job-o\"\r\n        @click=\"visibleRate = true\"\r\n        title=\"软件评分\"\r\n        is-link\r\n      />\r\n      <van-cell icon=\"smile-o\" to=\"/about\" title=\"关于我们\" is-link />\r\n    </div>\r\n    <van-dialog\r\n      v-model:show=\"visibleSig\"\r\n      @confirm=\"confirmSig\"\r\n      title=\"个性签名\"\r\n      show-cancel-button\r\n    >\r\n      <van-field\r\n        v-model=\"signature\"\r\n        rows=\"2\"\r\n        autosize\r\n        type=\"textarea\"\r\n        maxlength=\"20\"\r\n        placeholder=\"请输入个性签名\"\r\n        show-word-limit\r\n      />\r\n    </van-dialog>\r\n    <van-dialog\r\n      class=\"rate\"\r\n      v-model:show=\"visibleRate\"\r\n      @confirm=\"confirmRate\"\r\n      title=\"软件评分\"\r\n      show-cancel-button\r\n    >\r\n      <van-rate\r\n        class=\"rate\"\r\n        v-model=\"rate\"\r\n        allow-half\r\n        void-icon=\"star\"\r\n        void-color=\"#eee\"\r\n      />\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs } from \"vue\";\r\nimport axios from \"../utils/axios\";\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  name: \"User\",\r\n  setup() {\r\n    const state = reactive({\r\n      user: {}, // 用户信息\r\n      signature: \"\",\r\n      visibleSig: false,\r\n      visibleRate: false,\r\n      rate: 4.5,\r\n    });\r\n\r\n    onMounted(async () => {\r\n      getUserInfo();\r\n    });\r\n\r\n    // 获取用户信息\r\n    const getUserInfo = async () => {\r\n      const { data } = await axios.get(\"/user/get_userinfo\");\r\n      state.user = data;\r\n      state.signature = data.signature;\r\n    };\r\n\r\n    // 个性签名弹窗确认\r\n    const confirmSig = async () => {\r\n      const { data } = await axios.post(\"/user/edit_signature\", {\r\n        signature: state.signature,\r\n      });\r\n      state.user = data;\r\n      state.signature = data.signature;\r\n    };\r\n\r\n    // 软件评分弹窗确认\r\n    // Toast.success('感谢您的评价！');\r\n    const confirmRate = async () => {\r\n      Toast({\r\n        message: \"感谢您的支持\",\r\n        icon: \"like-o\",\r\n      });\r\n    };\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      confirmSig,\r\n      confirmRate,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n@import url(\"../config/custom.less\");\r\n.user {\r\n  min-height: 100%;\r\n  background-color: #f5f5f5;\r\n  padding: 12px;\r\n  .head {\r\n    display: flex;\r\n    background: linear-gradient(315deg, #ffebe7 0%, #1ee3cf 100%);\r\n    padding: 12px;\r\n    border-radius: 4px;\r\n    margin-bottom: 12px;\r\n    .avatar {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 50%;\r\n      border: 3px solid #fff;\r\n      margin-right: 10px;\r\n    }\r\n    .info {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-around;\r\n      .name {\r\n        font-size: 18px;\r\n        color: #fff;\r\n        font-weight: 500;\r\n      }\r\n      .slogen {\r\n        color: #fff;\r\n        background: rgba(0, 0, 0, 0.1);\r\n        padding: 1px 5px;\r\n        border-radius: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n.rate {\r\n  .van-dialog__content {\r\n    text-align: center;\r\n    padding: 20px 0;\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}