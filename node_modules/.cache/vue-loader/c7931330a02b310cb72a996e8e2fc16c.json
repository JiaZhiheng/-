{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\Home.vue?vue&type=template&id=fae5bece&scoped=true","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\Home.vue","mtime":1645098322712},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImhvbWUiPg0KICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+DQogICAgICA8ZGl2IGNsYXNzPSJ0eXBlLXdyYXAiIEBjbGljaz0idG9nZ2xlIj4NCiAgICAgICAgPHNwYW4gY2xhc3M9InRpdGxlIj57eyBjdXJyZW50U2VsZWN0Lm5hbWUgfHwgJ+WFqOmDqOexu+WeiycgfX08L3NwYW4+DQogICAgICAgIDxpIGNsYXNzPSJpY29uZm9udCBsZWl4aW5nIiAvPg0KICAgICAgPC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJkYXRhLXdyYXAiPg0KICAgICAgICA8c3BhbiBjbGFzcz0idGltZSIgQGNsaWNrPSJtb250aFRvZ2dsZSI+e3sgY3VycmVudFRpbWUgfX0gPGkgY2xhc3M9Imljb25mb250IHNvcnQtZG93biIgLz48L3NwYW4+DQogICAgICAgIDxzcGFuIGNsYXNzPSJleHBlbnNlIj7mgLvmlK/lh7ogwqV7eyB0b3RhbEV4cGVuc2UgfX08L3NwYW4+DQogICAgICAgIDxzcGFuIGNsYXNzPSJpbmNvbWUiPuaAu+aUtuWFpSDCpXt7IHRvdGFsSW5jb21lIH19PC9zcGFuPg0KICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iY29udGVudC13cmFwIj4NCiAgICAgIDx2YW4tcHVsbC1yZWZyZXNoIHYtbW9kZWw9InJlZnJlc2hpbmciIEByZWZyZXNoPSJvblJlZnJlc2giPg0KICAgICAgPCEtLSDku4vnu43kuIDkuIsgdmFuLXB1bGwtcmVmcmVzaCDnu4Tku7bnmoTlh6DkuKrlsZ7mgKfvvJogLS0+DQogICAgICA8IS0tIHYtbW9kZWw9InJlZnJlc2hpbmci77yaIOS5n+aYr+eUqOS6juWxleekuuS4i+aLieWIt+aWsOeahCBsb2FkaW5nIOeKtuaAgeOAgiAtLT4NCiAgICAgIDwhLS0gcmVmcmVzaO+8muaOpeaUtuS4gOS4quaWueazle+8jOeUqOS6jumHjeaWsOWKoOi9veaVsOaNriAtLT4NCiAgICAgICAgPHZhbi1saXN0DQogICAgICAgICAgdi1tb2RlbDpsb2FkaW5nPSJsb2FkaW5nIg0KICAgICAgICAgIDpmaW5pc2hlZD0iZmluaXNoZWQiDQogICAgICAgICAgZmluaXNoZWQtdGV4dD0i5rKh5pyJ5pu05aSa5LqGIg0KICAgICAgICAgIEBsb2FkPSJvbkxvYWQiDQogICAgICAgID4NCiAgICAgICAgPCEtLSDku4vnu43kuIDkuIsgdmFuLWxpc3Qg57uE5Lu255qE5Yeg5Liq5bGe5oCn77yaIC0tPg0KICAgICAgICA8IS0tIHYtbW9kZWw6bG9hZGluZ++8muWKoOi9veaVsOaNruaXtuWug+S8muiiq+iuvue9ruaIkCB0cnVl77yM6L+Z5qC35bCx5Lya5pyJ5Yqg6L295pWw5o2u55qE5pWI5p6c44CCIC0tPg0KICAgICAgICA8IS0tIGZpbmlzaGVk77ya5b2T5a6D5Li6IGZhbHNlIOS7o+ihqOWIl+ihqOaVsOaNrui/mOayoeacieWFqOmDqOWKoOi9veWujO+8jOS4uiB0cnVlIOaXtu+8jGZpbmlzaGVkLXRleHQg55qE5YC85bCx5Lya6KKr5bGV56S65YiX6KGo5bqV6YOo77yM6L+Z6YeM5piv4oCc5rKh5pyJ5pu05aSa5LqG4oCd77yM5Y+v6Ieq5a6a5LmJ6K+l5YC844CCIC0tPg0KICAgICAgICA8IS0tIGxvYWTvvJrlroPmjqXmlLbnmoTmmK/kuIDkuKrmlrnms5XvvIzor6Xmlrnms5XnlKjkuo7liJfooajmlbDmja7vvIzkuIDov5vlhaXpobXpnaLvvIzor6Xmlrnms5XlsLHkvJrooqvop6blj5Hpu5jorqTlvIDlp4vliqDovb3mlbDmja7jgIIgLS0+DQogICAgICAgICAgPENhcmRJdGVtIHYtZm9yPSJpdGVtIGluIGxpc3QiIDpiaWxsPSJpdGVtIiA6a2V5PSJpdGVtIiAvPg0KICAgICAgICA8L3Zhbi1saXN0Pg0KICAgICAgPC92YW4tcHVsbC1yZWZyZXNoPg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImFkZCIgQGNsaWNrPSJhZGRUb2dnbGUiPg0KICAgICAgPHZhbi1pY29uIG5hbWU9InJlY29yZHMiIC8+DQogICAgPC9kaXY+DQogICAgPCEtLSDlvJXlhaXnsbvlnovlvLnnqpfnu4Tku7YgLS0+DQogICAgPFBvcFR5cGUgcmVmPSJwb3BSZWYiIEBzZWxlY3Q9InNlbGVjdCIgLz4NCiAgICA8UG9wTW9udGggcmVmPSJwb3BNb250aFJlZiIgQHNlbGVjdD0ic2VsZWN0TW9udGgiIC8+DQogICAgPFBvcEFkZCByZWY9InBvcEFkZFJlZiIgQHJlZnJlc2g9Im9uUmVmcmVzaCIgLz4NCiAgPC9kaXY+DQo="},{"version":3,"sources":["C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\Home.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC/B,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnD,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACrD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf;QACA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/F,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;UACtD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC5B,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EAChD,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/lenovo/Desktop/cost/小菊记账/src/views/Home.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"header\">\r\n      <div class=\"type-wrap\" @click=\"toggle\">\r\n        <span class=\"title\">{{ currentSelect.name || '全部类型' }}</span>\r\n        <i class=\"iconfont leixing\" />\r\n      </div>\r\n      <div class=\"data-wrap\">\r\n        <span class=\"time\" @click=\"monthToggle\">{{ currentTime }} <i class=\"iconfont sort-down\" /></span>\r\n        <span class=\"expense\">总支出 ¥{{ totalExpense }}</span>\r\n        <span class=\"income\">总收入 ¥{{ totalIncome }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"content-wrap\">\r\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n      <!-- 介绍一下 van-pull-refresh 组件的几个属性： -->\r\n      <!-- v-model=\"refreshing\"： 也是用于展示下拉刷新的 loading 状态。 -->\r\n      <!-- refresh：接收一个方法，用于重新加载数据 -->\r\n        <van-list\r\n          v-model:loading=\"loading\"\r\n          :finished=\"finished\"\r\n          finished-text=\"没有更多了\"\r\n          @load=\"onLoad\"\r\n        >\r\n        <!-- 介绍一下 van-list 组件的几个属性： -->\r\n        <!-- v-model:loading：加载数据时它会被设置成 true，这样就会有加载数据的效果。 -->\r\n        <!-- finished：当它为 false 代表列表数据还没有全部加载完，为 true 时，finished-text 的值就会被展示列表底部，这里是“没有更多了”，可自定义该值。 -->\r\n        <!-- load：它接收的是一个方法，该方法用于列表数据，一进入页面，该方法就会被触发默认开始加载数据。 -->\r\n          <CardItem v-for=\"item in list\" :bill=\"item\" :key=\"item\" />\r\n        </van-list>\r\n      </van-pull-refresh>\r\n    </div>\r\n    <div class=\"add\" @click=\"addToggle\">\r\n      <van-icon name=\"records\" />\r\n    </div>\r\n    <!-- 引入类型弹窗组件 -->\r\n    <PopType ref=\"popRef\" @select=\"select\" />\r\n    <PopMonth ref=\"popMonthRef\" @select=\"selectMonth\" />\r\n    <PopAdd ref=\"popAddRef\" @refresh=\"onRefresh\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, toRefs } from 'vue'\r\nimport CardItem from '../components/CardItem.vue'\r\nimport PopType from '../components/PopType.vue'\r\nimport PopMonth from '../components/PopMonth.vue'\r\nimport PopAdd from '../components/PopAdd.vue'\r\nimport axios from '../utils/axios'\r\nimport dayjs from 'dayjs' // 日期插件，使用于 H5 端，体积较小\r\n/**\r\n * 注意 dayjs 插件，是类似 moment 插件的实现，所以它们在使用方式上基本是一致的，\r\n * 只不过 dayjs 将一些使用频率不高的方法做了删减，包的体积就变小了，对移动端更加友好。\r\n * 使用时，请通过 npm install dayjs 进行安装。\r\n */\r\nexport default {\r\n  components: {\r\n    CardItem,\r\n    PopType,\r\n    PopMonth,\r\n    PopAdd\r\n  },\r\n  // 所有 setup 内部定义的函数和变量，都需要通过 return 抛出才能使用\r\n  setup() {\r\n    // 声明 ref，通过 popRef 可以拿到 PopType 组件内的属性和方法\r\n    const popRef = ref(null)\r\n    const popMonthRef = ref(null)\r\n    const popAddRef = ref(null)\r\n    // 添加账单弹窗开关\r\n    const state = reactive({\r\n      totalExpense: 0,\r\n      totalIncome: 0,\r\n      page: 1, // 列表分页\r\n      totalPage: 0, // 总页数\r\n      list: [], // 列表数据\r\n      loading: false,\r\n      finished: false,\r\n      refreshing: false,\r\n      currentSelect: {},\r\n      currentTime: dayjs().format('YYYY-MM')\r\n    })\r\n    // 获取账单列表方法\r\n    const getBillList = async () => {\r\n      // 请求列表接口\r\n      const { data } = await axios.get(`/bill/list?date=${state.currentTime}&type_id=${state.currentSelect.id || 'all'}&page=${state.page}&page_size=5`)\r\n      console.log(data)\r\n      // 如果 refreshing 为 true，代表下拉刷新了，需要重置 list = []\r\n      if (state.refreshing) {\r\n        state.list = []\r\n        state.refreshing = false\r\n      }\r\n      state.loading = false\r\n      // 通过 concat 将数据拼接在旧的 list 后面\r\n      state.list = state.list.concat(data.list)\r\n      state.totalExpense = data.totalExpense.toFixed(2)\r\n      state.totalIncome = data.totalIncome.toFixed(2)\r\n      state.totalPage = data.totalPage\r\n      // 如果当前页 page 大于等于总页数 totalPage，则代表数据已经请求完，将 finished 设置为 true\r\n      if (state.page >= state.totalPage) state.finished = true\r\n    }\r\n    // van-list 加载方法\r\n    const onLoad = () => {\r\n      // 当不是下拉刷新且当前页 page 小于总页数 totalPage，需要加载下一页的数据，所以这里将 state.page = state.page + 1\r\n      if (!state.refreshing && state.page < state.totalPage) {\r\n        state.page = state.page + 1\r\n      }\r\n      getBillList()\r\n    }\r\n    // van-pull-refresh 刷新方法\r\n    const onRefresh = () => {\r\n      // 清空列表数据\r\n      state.finished = false;\r\n      // 页数重制\r\n      state.page = 1\r\n      // 重新加载数据\r\n      // 将 loading 设置为 true，表示处于加载状态\r\n      state.refreshing = true\r\n      state.loading = true;\r\n      onLoad()\r\n    }\r\n    // 类型弹窗开关\r\n    const toggle = () => {\r\n      /**\r\n       * PopTye 组件的 toggle 方法在 popRef.value 内可以找到，\r\n       * 所以在此调用 popRef.value.toggle 方法，\r\n       * 可以让弹窗的 show 属性变为 true，让弹窗从底部弹出。\r\n       */\r\n      popRef.value.toggle()\r\n    }\r\n    // 筛选类型\r\n    /**\r\n     * 这个方法将传入 PopType 组件，组件内部已经声明了 emit 触发下面的 select，\r\n     * 并且附带了类型数据 item，所以在这里可以拿到属性，并将其显示到头部。\r\n     */\r\n    const select = (item) => {\r\n      state.currentSelect = item\r\n      onRefresh()\r\n    }\r\n    // 月份弹窗开关\r\n    const monthToggle = () => {\r\n      popMonthRef.value.toggle()\r\n    }\r\n    // 筛选月份\r\n    const selectMonth = (item) => {\r\n      state.currentTime = item\r\n      onRefresh()\r\n    }\r\n    // 添加账单弹窗开关\r\n    const addToggle = () => {\r\n      console.log('popAddRef', popAddRef)\r\n      popAddRef.value.toggle()\r\n    }\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      popRef,\r\n      popMonthRef,\r\n      popAddRef,\r\n      toggle,\r\n      monthToggle,\r\n      addToggle,\r\n      onLoad,\r\n      onRefresh,\r\n      select,\r\n      selectMonth\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n@import url('../config/custom.less');\r\n\r\n.home {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-top: 80px;\r\n  .header {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 80px;\r\n    background-color: @primary;\r\n    color: #fff;\r\n    font-size: 14px;\r\n    padding: 20px 20px;\r\n    z-index: 100;\r\n    .type-wrap {\r\n      background-color: #08ffc8;\r\n      display: inline-block;\r\n      padding: 6px;\r\n      border-radius: 4px;\r\n      position: relative;\r\n      align-self: baseline;\r\n      .title {\r\n        margin-right: 22px;\r\n      }\r\n      .title::after {\r\n        content: '';\r\n        position: absolute;\r\n        top: 12px;\r\n        bottom: 11px;\r\n        right: 32px;\r\n        width: 1px;\r\n        background-color: #e9e9e9;\r\n      }\r\n    }\r\n    .data-wrap {\r\n      margin-top: 10px;\r\n      font-size: 13px;\r\n      .time {\r\n        margin-right: 12px;\r\n        .sort-down {\r\n          font-size: 12px;\r\n        }\r\n      }\r\n      .expense {\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n  .content-wrap {\r\n    height: calc(~\"(100% - 50px)\");\r\n    overflow: hidden;\r\n    overflow-y: scroll;\r\n    background-color: #f5f5f5;\r\n    padding: 10px;\r\n    // padding-bottom: 50px;\r\n  }\r\n  .add {\r\n    position: fixed;\r\n    bottom: 100px;\r\n    right: 30px;\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 50%;\r\n    border: 2px solid #e9e9e9;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 30px;\r\n    background-color: #fff;\r\n    box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.2);\r\n    color: @primary;\r\n  }\r\n}\r\n/**\r\n * 样式分析\r\n * 头部部分很简单，.header 通过 flex 实现上下布局，这样对居中操作比较友好。\r\n * 这里要注意的是，之所以给 .home 一个 padding-top: 80px，是因为 header 的高度是 80px，\r\n * 而 .header 定位到了顶部，方便后面列表滚动的时候，header 一直都出现在顶部。\r\n * 这样会导致 header 脱离文档流，列表会顶上去，所以这里才会给 .home 一个 80 的内边距。\r\n */\r\n</style>"]}]}