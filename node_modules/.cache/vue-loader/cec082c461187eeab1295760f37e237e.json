{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\Account.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\Account.vue","mtime":1645024041710},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJw0KaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcicNCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCcNCmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJw0KaW1wb3J0IGF4aW9zIGZyb20gJy4uL3V0aWxzL2F4aW9zJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdBY2NvdW50JywNCiAgY29tcG9uZW50czogew0KICAgIEhlYWRlcg0KICB9LA0KICBzZXR1cCgpIHsNCiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKQ0KICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoew0KICAgICAgdmlzaWJsZTogZmFsc2UsDQogICAgICBvbGRQYXNzOiAnJywNCiAgICAgIG5ld1Bhc3M6ICcnLA0KICAgICAgbmV3UGFzczI6ICcnDQogICAgfSkNCg0KICAgIC8vIOS/ruaUueWvhueggQ0KICAgIGNvbnN0IGhhbmRsZU9rID0gYXN5bmMgKCkgPT4gew0KICAgICAgaWYgKHN0YXRlLm5ld1Bhc3MgIT0gc3RhdGUubmV3UGFzczIpIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn5paw5a+G56CB5LiN5LiA6Ie0JykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICAvKioNCiAgICAgICAqIOS/ruaUueWvhueggeaOpeWPoyAvdXNlci9tb2RpZnlfcGFzcyDmjqXmlLbkuInkuKrlj4LmlbDvvJoNCiAgICAgICAqIG9sZF9wYXNz77ya6ICB5a+G56CB44CCDQogICAgICAgKiBuZXdfcGFzc++8muaWsOWvhueggeOAgg0KICAgICAgICogbmV3X3Bhc3My77ya5paw5a+G56CB5YaN5qyh56Gu6K6k44CCDQogICAgICAgKi8NCiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXhpb3MucG9zdCgnL3VzZXIvbW9kaWZ5X3Bhc3MnLCB7DQogICAgICAgIG9sZF9wYXNzOiBzdGF0ZS5vbGRQYXNzLA0KICAgICAgICBuZXdfcGFzczogc3RhdGUubmV3UGFzcywNCiAgICAgICAgbmV3X3Bhc3MyOiBzdGF0ZS5uZXdQYXNzMg0KICAgICAgfSkNCg0KICAgICAgVG9hc3Quc3VjY2Vzcygn5L+u5pS55oiQ5YqfJykNCiAgICB9DQoNCiAgICAvLyDpgIDlh7rnmbvlvZUNCiAgICBjb25zdCBsb2dvdXQgPSAoKSA9PiB7DQogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKQ0KICAgICAgcm91dGVyLnB1c2goeyBwYXRoOiAnL2xvZ2luJyB9KQ0KICAgIH0NCiAgICAvKioNCiAgICAgKiDpgIDlh7rnmbvlvZXmk43kvZzvvIwNCiAgICAgKiDnm7TmjqXpgJrov4cgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJykg5oqK5a2Y5Zyo5pys5Zyw55qEIHRva2VuIOa4heepuuS+v+WPr++8jA0KICAgICAqIOS4i+S4gOasoeivt+axguWwseS4jeS8muW4puS4iiB0b2tlbiDkuobjgIINCiAgICAgKiDov5nph4zopoHms6jmhI/vvIzlpoLmnpzmmK/orr7nva4gY29va2llIOeahOivne+8jA0KICAgICAqIOmcgOimgeacjeWKoeerr+aPkOS+m+aOpeWPo+a4heeQhuW9k+WJjeWfn+S4i+eahCBjb29raWUg5L+h5oGv77yMDQogICAgICog6L+Z6YeM6YeH55So55qE5pivIHRva2VuIOmJtOadg+eahOaWueW8j++8jA0KICAgICAqIOS4uuS6huaWueS+v+WQjue7reW8gOWPkeWwj+eoi+W6j+WSjCBBcHDvvIzlvZLnu5Pkuo7ku5bku6zmsqHmnInmtY/op4jlmajnjq/looPnmoQgY29va2llIOiDveWKmw0KICAgICAqLw0KICAgIHJldHVybiB7DQogICAgICAuLi50b1JlZnMoc3RhdGUpLA0KICAgICAgaGFuZGxlT2ssDQogICAgICBsb2dvdXQNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["C:\\Users\\lenovo\\Desktop\\cost\\小菊记账\\src\\views\\Account.vue"],"names":[],"mappings":"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","file":"C:/Users/lenovo/Desktop/cost/小菊记账/src/views/Account.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"account\">\r\n    <Header title=\"账户安全\" />\r\n    <van-cell title=\"密码修改\" @click=\"visible = true\" is-link />\r\n    <van-button class=\"logout\" type=\"primary\" size=\"large\" @click=\"logout\">退出登录</van-button>\r\n    <van-dialog class=\"modal-pass\" v-model:show=\"visible\" @confirm=\"handleOk\" title=\"修改密码\" show-cancel-button>\r\n      <van-cell-group>\r\n        <van-field\r\n          v-model=\"oldPass\"\r\n          label=\"原密码\"\r\n          clearable\r\n          placeholder=\"请输入原密码\"\r\n        />\r\n        <van-field\r\n          v-model=\"newPass\"\r\n          label=\"新密码\"\r\n          clearable\r\n          placeholder=\"请输入新密码\"\r\n        />\r\n        <van-field\r\n          v-model=\"newPass2\"\r\n          label=\"确认密码\"\r\n          clearable\r\n          placeholder=\"再次输入确认\"\r\n        />\r\n      </van-cell-group>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { Toast } from 'vant'\r\nimport Header from '../components/Header.vue'\r\nimport axios from '../utils/axios'\r\n\r\nexport default {\r\n  name: 'Account',\r\n  components: {\r\n    Header\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const state = reactive({\r\n      visible: false,\r\n      oldPass: '',\r\n      newPass: '',\r\n      newPass2: ''\r\n    })\r\n\r\n    // 修改密码\r\n    const handleOk = async () => {\r\n      if (state.newPass != state.newPass2) {\r\n        Toast.fail('新密码不一致')\r\n        return\r\n      }\r\n      /**\r\n       * 修改密码接口 /user/modify_pass 接收三个参数：\r\n       * old_pass：老密码。\r\n       * new_pass：新密码。\r\n       * new_pass2：新密码再次确认。\r\n       */\r\n      const { data } = axios.post('/user/modify_pass', {\r\n        old_pass: state.oldPass,\r\n        new_pass: state.newPass,\r\n        new_pass2: state.newPass2\r\n      })\r\n\r\n      Toast.success('修改成功')\r\n    }\r\n\r\n    // 退出登录\r\n    const logout = () => {\r\n      localStorage.removeItem('token')\r\n      router.push({ path: '/login' })\r\n    }\r\n    /**\r\n     * 退出登录操作，\r\n     * 直接通过 localStorage.removeItem('token') 把存在本地的 token 清空便可，\r\n     * 下一次请求就不会带上 token 了。\r\n     * 这里要注意，如果是设置 cookie 的话，\r\n     * 需要服务端提供接口清理当前域下的 cookie 信息，\r\n     * 这里采用的是 token 鉴权的方式，\r\n     * 为了方便后续开发小程序和 App，归结于他们没有浏览器环境的 cookie 能力\r\n     */\r\n    return {\r\n      ...toRefs(state),\r\n      handleOk,\r\n      logout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import url('../config/custom.less');\r\n  .account {\r\n    min-height: 100%;\r\n    background-color: #f5f5f5;\r\n    \r\n    .logout {\r\n      display: block;\r\n      margin: 0 auto;\r\n      width: 90%;\r\n      margin-top: 20px;\r\n      background-color: @primary;\r\n      border-color: @primary;\r\n    }\r\n    .modal-pass {\r\n      .van-dialog__header {\r\n        padding: 10px 0;\r\n      }\r\n      .van-dialog__content {\r\n        .van-cell-group {\r\n          padding: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}